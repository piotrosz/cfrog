@using CookingFrog.WebUI.Components.Models

@if (_isEdit)
{
    <div class="mb-3">
    <InputTextArea
        class="form-control"
        id="txtSteps"
        rows="3"
        @bind-Value="_editedStep"/>
    </div>
    <div class="mb-3">
        <button
            type="button"
            class="btn btn-sm"
            @onclick="@(async () =>
                      {
                          await UpdateClicked.InvokeAsync(new StepUpdateModel(_editedStep, Index));
                          _isEdit = false;
                      })"
            title="zapisz">
            ‚úÖ
        </button>
        <button
            type="button"
            class="btn btn-sm"
            @onclick="@(async () =>
                      {
                          await DeleteClicked.InvokeAsync(Index);
                          _isEdit = false;
                      })"
            title="usu≈Ñ">
            üóëÔ∏è
        </button>
        <button
            type="button"
            class="btn btn-sm"
            @onclick="@(() => { _isEdit = false; })"
            title="anuluj">
            ‚ùå
        </button>
    </div>
}
else
{
    <div class="input-group mb-3">
        
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="step@(Index)">
            <label class="form-check-label" for="step@(Index)">
                @if (Description.StartsWith("[stage]", StringComparison.OrdinalIgnoreCase))
                {
                    <p class="h5">@Description.Substring(7) 
                        @if (ShowEditButtons)
                        {
                            <button type="button"
                                    class="btn btn-sm"
                                    @onclick="Edit">üñäÔ∏è
                            </button>
                        }
                    </p>
                }
                else
                {
                    <b>@Index)</b>
                    <span>@((MarkupString)Description)</span>
                    @if (ShowEditButtons)
                    {
                        <button type="button"
                                class="btn btn-sm"
                                @onclick="Edit">üñäÔ∏è
                        </button>
                    }
                }
            </label>
        </div>
    </div>
}