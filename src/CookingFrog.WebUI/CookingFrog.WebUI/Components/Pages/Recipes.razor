@page "/"
@inject IRecipesReadRepo RecipesRepo
@attribute [StreamRendering]

<PageTitle>Cooking Frog</PageTitle>

<AuthorizeView>
    <NotAuthorized>
        <p>Musisz się zalogować, by zobaczyć przepisy.</p>
    </NotAuthorized>
    <Authorized>
        @if (_recipes == null)
        {
            <p><em>Loading...</em></p>
        }
        else
        {
            <div class="card" >
                <div class="card-header">
                    <h2>Przepisy</h2>
                </div>
                <ul class="list-group list-group-flush">
                    @foreach (var recipe in _recipes)
                    {
                        <li class="list-group-item">
                            <NavLink class="nav-link" href="@("recipe/" + recipe.Guid)">
                                @recipe.Summary
                            </NavLink>
                        </li>
                    }
                </ul>
            </div>
        }
    </Authorized>
</AuthorizeView>
